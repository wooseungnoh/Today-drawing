{"version":3,"file":"static/webpack/static\\development\\pages\\p\\[imgDetail].js.530125707b2118263561.hot-update.js","sources":["webpack:///./pages/p/[imgDetail].js"],"sourcesContent":["import { useRouter } from 'next/router';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Img, Input, Textarea } from '../../components/uiComponent';\r\nimport Text from '../../components/text';\r\nimport Container from '../../components/container';\r\nimport { LOAD_PHOTO_DETAIL_REQUEST } from '../../reducers/drawing';\r\n\r\nconst imgDetail = () => {\r\n  const dispatch = useDispatch();\r\n  const [editing, setEditing] = useState(false);\r\n  const [editingText, setEditingText] = useState({\r\n    title: '',\r\n    description: '',\r\n  });\r\n  const { nowShowingPost } = useSelector((state) => state.drawing);\r\n\r\n  useEffect(() => {\r\n    const nowUrl = document.location.href;\r\n    const slice = nowUrl.split('p/');\r\n    dispatch({\r\n      type: LOAD_PHOTO_DETAIL_REQUEST,\r\n      data: { postId: slice[1] },\r\n    });\r\n  }, []);\r\n\r\n  const handleEditingState = () => {\r\n    setEditing((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <Container flexDirection=\"column\">\r\n      {nowShowingPost ? (\r\n        <div>\r\n          <Img\r\n            src={`http://localhost:5000/${nowShowingPost.post.fileUrl}`}\r\n            width=\"500px\"\r\n          />\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              textAlign: 'left',\r\n              margin: '10px 0 ',\r\n            }}\r\n          >\r\n            {editing ? (\r\n              <>\r\n                <Text\r\n                  bold\r\n                  fontSize=\"big\"\r\n                  style={{ padding: '15px 0' }}\r\n                >{`${nowShowingPost.post.creator.writer}`}</Text>\r\n                <Text fontSize=\"medium\" style={{ paddingBottom: '30px' }}>{`${\r\n                  nowShowingPost.post.createAt.split('T')[0]\r\n                }`}</Text>\r\n                <form style={{ display: 'flex', flexDirection: 'column' }}>\r\n                  <label>제목</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    style={{ width: '100%' }}\r\n                    value={editingText.title}\r\n                    defaultValue={nowShowingPost.post.title}\r\n                  />\r\n                  <label>내용</label>\r\n                  <Textarea\r\n                    style={{ width: '100%' }}\r\n                    value={editingText.description}\r\n                    defaultValue={nowShowingPost.post.description}\r\n                  ></Textarea>\r\n                </form>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                  }}\r\n                >\r\n                  <Text\r\n                    bold\r\n                    fontSize=\"big\"\r\n                    style={{ padding: '15px 0' }}\r\n                  >{`${nowShowingPost.post.creator.writer}`}</Text>\r\n                  {nowShowingPost.post.creator._id ===\r\n                  nowShowingPost.user._id ? (\r\n                    <button onClick={handleEditingState}>수정</button>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </div>\r\n                <Text fontSize=\"medium\" style={{ paddingBottom: '30px' }}>{`${\r\n                  nowShowingPost.post.createAt.split('T')[0]\r\n                }`}</Text>\r\n                <Text bold fontSize=\"huge\" style={{ paddingBottom: '15px' }}>\r\n                  {nowShowingPost.post.title}\r\n                </Text>\r\n                <div style={{ width: '500px' }}>\r\n                  <Text>{nowShowingPost.post.description}</Text>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default imgDetail;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAFA;AAHA;AAAA;AACA;AADA;AAOA;AAAA;AAPA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;;;;A","sourceRoot":""}