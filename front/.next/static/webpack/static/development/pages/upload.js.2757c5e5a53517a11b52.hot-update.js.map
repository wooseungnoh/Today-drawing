{"version":3,"file":"static/webpack/static\\development\\pages\\upload.js.2757c5e5a53517a11b52.hot-update.js","sources":["webpack:///./pages/upload.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Router from 'next/Router';\r\nimport Container from '../components/container';\r\nimport { Input, Form, Textarea } from '../components/uiComponent';\r\nimport { UPPLOAD_CANVAS_REQUEST, ADDING_PHOTO_OFF } from '../reducers/drawing';\r\nimport { useInput } from './login';\r\n\r\nconst Upload = () => {\r\n  const { imagePaths } = useSelector((state) => state.drawing);\r\n  const [title, setTitle] = useInput('');\r\n  const [desciption, setDesciption] = useInput('');\r\n  const dispatch = useDispatch();\r\n\r\n  const addPhoto = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handlePhotoFile = (e) => {\r\n    const imageFormData = new FormData();\r\n    [].forEach.call(e.target.files, (f) => {\r\n      imageFormData.append('photo', f);\r\n    });\r\n    dispatch({\r\n      type: UPPLOAD_CANVAS_REQUEST,\r\n      data: imageFormData,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container flexDirection=\"column\">\r\n      <Container wsize=\"300px\" hsize=\"300px\">\r\n        {imagePaths.map((item, idx) => {\r\n          <img key={idx} src={`http://localhost:5000/${item}`} style={{ width: '100%' }\r\n          } />\r\n        })}\r\n      </Container>\r\n      <Form onSubmit={addPhoto} encType=\"multipart/form-data\">\r\n        <label htmlFor=\"file\">파일 선택</label>\r\n        <Input\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          onChange={handlePhotoFile}\r\n          accept=\"image/*\"\r\n        />\r\n\r\n        <label>그림 제목</label>\r\n        <Input value={title} onChange={setTitle} type=\"text\" />\r\n\r\n        <label>그림 설명</label>\r\n        <Textarea value={desciption} onChange={setDesciption} />\r\n        <Input type=\"submit\" value=\"작성\" />\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}